/* Reset and basic layout */
body {
    font-family: system-ui, sans-serif;
    background-color: #f9f9fb;
    display: flex;
    font-size: 16px;
    flex-direction: column;
    height: 100vh;
    margin: 0;
    box-sizing: border-box;
}

.searchArea {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translate(-50%, 0);
    width: 30%;
    min-width: 400px;
    padding: 15px;
    border-radius: 8px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 1;
    background: none; /* removed the panel background */
    box-shadow: none; /* remove shadow from container */
}

.search-container {
    position: relative;
    display: flex;
    min-width: 320px;
}

.search-container input {
    width: 100%;
    padding: 12px 16px 12px 42px;
    border: 1px solid #ccc;
    border-radius: 999px;
    outline: none;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: box-shadow 0.1s, border-color 0.2s;
    cursor: pointer;
}

.search-container input:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
}

.search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    opacity: 0.6;
    pointer-events: none;
}

.button-row {
    display: flex;
    justify-content: center;
    width: 100%;
    gap: 8px;
}

.button-row button {
    height: 30px;
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    background-color: #ceaf00;
    color: white;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
}

.button-row .icon {
    width: 16px;
    height: 16px;
    object-fit: contain;
    filter: brightness(0) invert(1);
    margin-right: 8px;
}

.button-row button:hover {
    background-color: #867200;
}

.start-button {
    padding: 8px 12px;
    margin-top: auto;
    font-size: 18px;
    color: white;
    border-radius: 6px;
    border: 1px solid #fff;
    background-color: #2ed725;
    z-index: 1000;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.start-button:hover {
    background-color: #259b1f;
}

.start-button-icon {
    width: 20px;
    height: 20px;
    object-fit: contain;
    filter: brightness(0) invert(1);
    margin-right: 3px;
}

.exit-button {
    position: fixed;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 30px;
    font-size: 18px;
    color: white;
    border-radius: 25px;
    border: 1px solid #ccc;
    background-color: #e74c3c;
    z-index: 1000;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.exit-button:hover {
    background-color: #c0392b;
}

/* Main container: sidebar + map */
.main {
    position: relative;

    /* adjust for top bar, remove if topbar is removed*/
    height: calc(100vh - 60px);
    flex: 1;
    overflow: hidden;
}

.sidebar {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 30%;
    min-width: 400px;
    background-color: #ffffff;
    padding: 15px;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 2;
}

.sidebar.hidden {
    visibility: hidden;
}

.sidebar-container {
    margin-top: 10px;
    /*background-color: rgba(66, 50, 238, 0.5);*/
    display: flex;
    flex-direction: column;
    border-radius: 6px;
    gap: 5px;
}

.sidebar-container-title {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    padding: 10px;
    background-color: #4a90e2;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-weight: bold;
    color: white;
}

/* Sidebar items */
.sidebar-container button {
    padding: 10px;
    margin-left: 2px;
    margin-right: 2px;
    background-color: #fff;
    border: 1px solid #ccc;
    cursor: pointer;
    text-align: left;
}

.sidebar-container button:hover {
    background-color: #dcdcdc;
}

/* Prefer Indoor Routes toggle button */
.toggle-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 10px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 8px 12px;
    background-color: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.toggle-indoor-routes {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
}

.toggle-indoor-routes input {
    display: none;
}

.toggle-indoor-routes-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: rgba(193, 193, 193, 0.5);
    transition: 0.5s;
    border-radius: 30px;
}

.toggle-indoor-routes-slider:before {
    content: "";
    position: absolute;
    height: 24px;
    width: 24px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: 0.5s;
    border-radius: 50%;
}

input:checked + .toggle-indoor-routes-slider {
    background-color: #4a90e2;
}

input:checked + .toggle-indoor-routes-slider::before {
    transform: translateX(30px);
}

/*
Map-Layer exists so that the map cannot appear on top of other elements. 
Leaflet automatically tries to place the map overtop all of its siblings, 
so it must be seperated by all other elements in main by 1 layer so it does 
not try to appear on top of them
*/
.map-layer {
    position: absolute;
    inset: 0;
    z-index: 0;
}

#map {
    position: absolute;
    inset: 0;
}

/* Your existing sidebar styles assumed here */

/* Route card container */
.route-card {
    background: #fff;
    padding: 12px 15px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.12);
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.selected-route-card {
    border: 2px solid #2ab600; /*#2563eb;*/
}

/* Header row: icon, title, time */
.route-header {
    display: grid;
    grid-template-columns: 24px 1fr auto;
    align-items: center;
    gap: 8px;
}

.route-icon {
    width: 24px;
    height: 24px;
    opacity: 0.9;
}

.route-title {
    font-size: 16px;
    font-weight: 600;
}

.route-time {
    font-size: 14px;
    font-weight: 600;
    /*color: #2563eb; /* Muted blue highlight */
    color: rgb(87, 6, 141);
}

/* Timeline */
.route-timeline {
    margin-left: 6px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    position: relative;
}

.route-timeline-large {
    margin-left: 10px;
    margin-top: 10px;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    position: relative;
}

/* Each step */
.timeline-step {
    display: grid;
    align-items: center;
    grid-template-columns: auto 1fr auto;
    column-gap: 8px;
}

.timeline-subtext {
    font-size: 13px;
    margin-left: 22px;
    margin-top: -47px;
    color: #616161;
}
.timeline-subtext-warning {
    font-size: 13px;
    margin-left: 22px;
    margin-top: -28px;
    color: #616161;
}

.step-label {
    font-size: 13px;
    margin-left: 10px;
    color: #444;
}

.step-label-large {
    font-size: 16px;
    text-align: left;
    margin-left: 15px;
    color: #444;
}

/* timeline for the navigation screen on the right 
step-number is the number itself*/
.step-number {
  position: relative;
  font-size: 14px;
  width: 30px;
  height: 30px;
  font-weight: bold;
  display: flex;
  text-align: right;
  padding-left: 8px;
  margin-top: 7px;
}

/* Vertical connecting line */
.step-number::after {
  content: "";
  position: absolute;
  top: 30px;
  left: 50%;
  width: 2px;
  height: calc(100% + 1.5rem); /* matches .timeline gap */
  background-color: #1976d2;
  transform: translateX(-50%);
}

/* Hide line on last item */
.timeline-step:last-child .step-number::after {
  display: none;
}


/* Dot */
.dot {
    width: 8px;
    height: 8px;
    /*background: #2563eb;*/
    background: #9c25ebff;
    border-radius: 50%;
    flex-shrink: 0;
}

.dot-large {
    width: 12px;
    height: 12px;
    /*background: #2563eb;*/
    background: #4a90e2;
    border-radius: 50%;
    flex-shrink: 0;
}

/* Connector line */
.connector {
    width: 3px;
    height: 14px;
    /*background: #2563eb;*/
    background: #9c25ebff;
    margin-left: 3px;
}

.connector-large {
    width: 2px;
    height: 40px;
    background: #4a90e2;
    margin-left: 4.5px;
}

.route-card-note {
    display: inline-block;
    background: #9c25ebff;
    color: #ffffff;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
    align-self: flex-start;
    margin-top: 4px;
}

.bus-bg-colour {
    background: #2fca00;
}

.bus-font-colour {
    color: #2ab600;
}

/* Large route note for sidebar */

.route-note-large {
    display: flex;
    align-items: center;    /* <-- center icon and text vertically */
    gap: 8px;               /* slightly larger gap looks nicer with centered items */
    padding: 6px 8px;
    background: rgba(0, 0, 0, 0.06);
    /*border-left: 4px solid #2563eb;*/
    border-left: 4px solid #4a90e2;
    border-radius: 4px;
    font-size: 15px;
    color: #444;
    line-height: 1.35;      /* keeps multi-line text spacing consistent */
}

.route-note-large .info-icon {
    width: 20px;
    height: 20px;
    opacity: 0.85;
    flex-shrink: 0;
    margin-top: 0;          /* remove previous nudging */
    display: block;         /* ensures consistent sizing/box model */
    vertical-align: middle; /* defensive â€” useful if icon becomes inline later */
}

.route-note-large .note-text {
    line-height: 1.35;
}

.location-icon {
    position: absolute;
    left: 10px;
    width: 24px;
    height: 24px;
    opacity: 1.0;
    mix-blend-mode: multiply;
}

.toast {
  position: fixed;
  bottom: 200px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #333;
  color: #fff;
  padding: 10px 16px;
  border-radius: 6px;
  font-size: 14px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
  z-index: 1000;
}

.toast.show {
  opacity: 1;
}

.recenter-button {
    position: fixed;  
    bottom: 30px;
    right: 20px;
    padding: 10px 15px;  
    background-color: #4a90e2;
    border: 2px solid #4a90e2;
    border-radius: 20px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    z-index: 1001;  
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ffff;
    font-size: 14px;
    transition: all 0.2s ease;
}

.recenter-button:hover {
    background-color: #237ade;
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.search-bar-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.settings-icon {
  width: 55px;
  height: 44px;
  margin-left: -53px;
  cursor: pointer;
  opacity: 0.8;
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.settings-icon:hover {
  transform: rotate(20deg);
  opacity: 1;
}
